$.widget("ui.form",{_init:function(){var n=this,t=this.element,i=t.find("#lblCurrentDir, input:text, input:checkbox, input:radio , textarea").not("#CKEditor_Options_rBlSetMode input:radio,#BrowserMode input:radio,.groupEdit");t.find("fieldset").addClass("ui-widget-content"),t.find("legend").addClass("ui-widget-header ui-corner-all"),t.addClass("ui-widget"),$.each(i,function(){$(this).addClass("ui-state-default ui-corner-all"),$(this).wrap("<label />"),$(this).is(":reset ,:submit")?n.buttons(this):$(this).is(":checkbox")?n.checkboxes(this):$(this).is("input[type='text']")||$(this).is("textarea")||$(this).is("input[type='password']")?n.textelements(this):$(this).is(":radio")?n.radio(this):$(this).is("select")&&n.selector(this),$(this).hasClass("date")&&$(this).datepicker()}),$(".hover").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")})},textelements:function(n){$(n).bind({focusin:function(){$(this).toggleClass("ui-state-focus")},focusout:function(){$(this).toggleClass("ui-state-focus")}})},buttons:function(n){$(n).is(":submit")?($(n).addClass("ui-priority-primary ui-corner-all ui-state-disabled hover"),$(n).bind("click",function(n){n.preventDefault()})):$(n).is(":reset")&&$(n).addClass("ui-priority-secondary ui-corner-all hover"),$(n).bind("mousedown mouseup",function(){$(this).toggleClass("ui-state-active")})},checkboxes:function(n){$(n).parent("label").after("<span />");var t=$(n).parent("label").next();$(n).attr("checked")&&t.toggleClass("ui-icon ui-icon-check"),$(t).children("span").first().html($(n).children("option:selected").html()),$(n).addClass("ui-helper-hidden"),t.css({width:16,height:16,display:"block"}),t.wrap("<span class='ui-state-default ui-corner-all' style='display:inline-block;width:16px;height:16px;margin-right:5px;'/>"),t.parent().addClass("hover"),t.parent("span").click(function(){$(this).toggleClass("ui-state-active"),t.toggleClass("ui-icon ui-icon-check"),$(n).click()})},radio:function(n){$(n).parent("label").after("<span />");var t=$(n).parent("label").next();$(n).addClass("ui-helper-hidden"),t.addClass("ui-icon ui-icon-radio-off"),$(n).prop?$(n).prop("disabled")?t.wrap("<span class='ui-state-disabled ui-corner-all' style='display:inline-block;width:16px;height:16px;margin-right:5px;'/>"):t.wrap("<span class='ui-state-default ui-corner-all' style='display:inline-block;width:16px;height:16px;margin-right:5px;'/>"):$(n).attr("disabled")?t.wrap("<span class='ui-state-disabled ui-corner-all' style='display:inline-block;width:16px;height:16px;margin-right:5px;'/>"):t.wrap("<span class='ui-state-default ui-corner-all' style='display:inline-block;width:16px;height:16px;margin-right:5px;'/>"),t.parent().addClass("hover"),$(n).prop?$(n).prop("checked")&&t.toggleClass("ui-icon-radio-off ui-icon-bullet"):$(n).attr("checked")&&t.toggleClass("ui-icon-radio-off ui-icon-bullet"),t.parent("span").click(function(){$(this).toggleClass("ui-state-active"),t.toggleClass("ui-icon-radio-off ui-icon-bullet"),$(n).click()})},selector:function(n){var t=$(n).parent().first();t.css({display:"block",width:140,height:21}).addClass("ui-state-default ui-corner-all"),$(n).addClass("ui-helper-hidden"),t.append("<span style='float:left;'><\/span><span style='float:right;display:inline-block' class='ui-icon ui-icon-triangle-1-s' ><\/span>"),t.after("<ul class=' ui-helper-reset ui-widget-content ui-helper-hidden' style='position:absolute;z-index:50;width:140px;' ><\/ul>"),$(t).children("span").first().html($(n).children("option:selected").html()),$.each($(n).find("option"),function(){$(t).next("ul").append("<li class='hover' style='cursor: pointer'>"+$(this).html()+"<\/li>")}),$(t).next("ul").find("li").click(function(){$(t).children("span").first().html($(this).html()),$(n).val($(this).html()),$(t).next().slideToggle("fast")}),$(t).click(function(n){$(this).next().slideToggle("fast"),n.preventDefault()})}}),function(n){n.widget("ui.selectgroup",{version:"@VERSION",options:{autoWidth:!0,classInherit:{select:!0,option:!0,optionGroup:!0},positioning:{of:null,my:"left top",at:"left bottom",offset:null,collision:"none"},style:"dropdown",handleWidth:26},isOpen:!1,isActive:!1,position:0,search:["","",1,1,0],timer:null,_create:function(){var t=this,i=this.element.attr("id");this.identifiers=["ui-"+i,"ui-"+i],n.ui.selectgroup.group.initialised===!1&&(n("body").append(n.ui.selectgroup.group),n.ui.selectgroup.group.hide()),n.ui.selectgroup.group.initialised=!0,this.copy=n(this.element).find("option:selected").length?this.element.find("option:selected").text():this.element.find("option").first().text(),this.placeholder=n('<a href="#" id="'+this.identifiers[1]+'" class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all"role="button" aria-haspopup="true" aria-owns="'+this.widgetBaseClass+'-group"><span class="'+this.widgetBaseClass+'-copy">'+this.copy+'<\/span><span class="'+this.widgetBaseClass+'-icon ui-icon ui-icon-triangle-1-s"><\/span><\/a>'),this.options.classInherit.select&&this.placeholder.addClass(this.element.attr("class")),this.placeholder.attr("title",this.element.attr("title")),this.options.style==="popup"&&(this.placeholder.addClass(this.widgetBaseClass+"-popup"),this.placeholder.find("."+this.widgetBaseClass+"-icon").removeClass("ui-icon-triangle-1-s").addClass("ui-icon-triangle-2-n-s")),this.element.after(this.placeholder).hide(),this._placeholderEvents(!0),n('label[for="'+i+'"]').attr("for",this.identifiers[0]).bind("click.selectgroup",function(n){n.preventDefault(),t.placeholder.focus()}),n(document).bind("click.selectmenu",function(i){!t.isOpen||n(i.target).closest(".ui-selectgroup").length||n(i.target).closest(".ui-selectgroup-group").length||window.setTimeout(function(){t.blur(),t.close(),n.ui.selectgroup.group.past=null},100)})},_placeholderEvents:function(t){var i=this;t===!0?this.placeholder.removeClass("ui-state-disabled").bind("click.selectgroup",function(n){n.preventDefault(),i._toggle()}).bind("keydown.selectgroup",function(t){switch(t.keyCode){case n.ui.keyCode.ENTER:t.preventDefault(),i.isOpen&&i.close();break;case n.ui.keyCode.ESCAPE:t.preventDefault(),i.isOpen&&(i.blur(),i.close());break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:t.preventDefault(),i.isActive||i.focus(),i._traverse(-1);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.RIGHT:t.preventDefault(),i.isActive||i.focus(),i._traverse(1);break;case n.ui.keyCode.TAB:i.isActive||i.blur(),i.isOpen&&i.close();break;default:t.preventDefault(),i.isActive||i.focus(),i._typeahead(String.fromCharCode(t.keyCode).toLowerCase())}}).bind("mouseover.selectgroup",function(){n(this).addClass("ui-state-hover")}).bind("mouseout.selectgroup",function(){n(this).removeClass("ui-state-hover")}):(this.placeholder.addClass("ui-state-disabled").unbind(".selectgroup"),this.placeholder.bind("click.selectgroup",function(n){n.preventDefault()}).bind("keydown.selectgroup",function(n){n.preventDefault()}))},_index:function(){this.selectors=n.map(n("option",this.element),function(t){return{element:n(t),text:n(t).text(),classname:n(t).attr("class"),optgroup:n(t).parent("optgroup"),optgroupClassname:n(t).parent("optgroup").attr("class"),optDisabled:n(t).parent("optgroup").attr("disabled"),value:n(t).attr("value"),selected:n(t).attr("selected"),disabled:n(t).attr("disabled")}})},_renderGroup:function(){var t=this;this.group=n('<ul class="'+this.widgetBaseClass+'-list" role="listbox" aria-hidden="true"><\/ul>'),this.options.autoWidth&&(this.options.style==="dropdown"?n.ui.selectgroup.group.width(this.placeholder.width()):n.ui.selectgroup.group.width(this.placeholder.width()-this.options.handleWidth)),this.options.style==="popup"&&this.group.addClass(this.widgetBaseClass+"-popup"),this._renderOption(),this.group.attr("aria-labelledby",this.identifiers[0]),n(n.ui.selectgroup.group).html(this.group)},_renderOption:function(){var t=this;n.each(this.selectors,function(i){var u=this,r=n('<li role="presentation"><a role="option" href="#">'+this.text+"<\/a><\/li>").bind("click.selectgroup",function(r){r.preventDefault(),u.disabled==="disabled"||u.optDisabled==="disabled"||(t.copy=t.selectors[i].text,t.placeholder.find(".ui-selectgroup-copy").text(t.copy),t.element.find("option:selected").removeAttr("selected"),n(t.selectors[i].element).attr("selected","selected"),t.position=i,t.element.trigger("change"),t._toggle())}).bind("mouseover.selectgroup",function(){u.disabled==="disabled"||u.optDisabled==="disabled"||n(this).addClass("ui-state-hover")}).bind("mouseout.selectmenu",function(){n(this).removeClass("ui-state-hover")}),f,e;t.options.classInherit.option&&r.addClass(this.classname),typeof this.selected!="undefined"&&this.selected==="selected"&&(r.addClass("ui-state-active"),t.position=i),typeof this.disabled!="undefined"&&this.disabled==="disabled"&&r.addClass("ui-state-disabled"),this.optgroup.length?(f=t.widgetBaseClass+"-optgroup-"+t.element.find("optgroup").index(this.optgroup),t.group.find("li."+f).length?t.group.find("li."+f+" ul").append(r):(e=n('<li class="'+f+" "+t.widgetBaseClass+'-optgroup"><span>'+this.optgroup.attr("label")+"<\/span><ul><\/ul><\/li>"),t.options.classInherit.optionGroup&&e.addClass(this.optgroupClassname),typeof this.optDisabled!="undefined"&&this.optDisabled==="disabled"?e.addClass("ui-state-disabled").appendTo(t.group).find("ul").append(r):e.appendTo(t.group).find("ul").append(r))):r.appendTo(t.group)})},_position:function(){var t=this.options,u=this.group.find("li").not(".ui-selectgroup-optgroup"),i=u.get(this.position),r;n(n.ui.selectgroup.group).css({top:0,left:0}),n(n.ui.selectgroup.group).show(),this.options.style!=="popup"||this.options.positioning.offset||(r="0 -"+(n(i).outerHeight()+n(i).offset().top)),n(n.ui.selectgroup.group).position({of:t.positioning.of||this.placeholder,my:t.positioning.my,at:t.positioning.at,offset:t.positioning.offset||r,collision:t.positioning.collision})},_toggle:function(){if(n.ui.selectgroup.group.past!==null&&n.ui.selectgroup.group.past.element!==this.element&&(this.focus(),this.close()),n.ui.selectgroup.group.past=this,!this.isActive){this.focus(),this.isOpen||this.open();return}if(!this.isOpen){this.open();return}if(this.isActive){this.blur(),this.isOpen&&this.close();return}if(this.isOpen){this.close();return}},_traverse:function(t,i){var u=this.group.find("li").not(".ui-selectgroup-optgroup"),e=u.length-1,r=this.position,f=null;(r=this.position+t,r<0&&(r=0),r>e&&(r=e),r!==i)&&(this.selectors[r].disabled==="disabled"||this.selectors[r].optDisabled==="disabled"?(t>0?++t:--t,this._traverse(t,r)):(this.position=r,f=u.get(this.position),this.copy=n(f).find("a").text(),u.removeClass("ui-state-hover"),n(f).addClass("ui-state-hover"),this.placeholder.find(".ui-selectgroup-copy").text(this.copy),this.element.find("option:selected").removeAttr("selected"),n(this.selectors[this.position].element).attr("selected","selected")),n.ui.selectgroup.group.position=t)},_typeahead:function(t){function u(t){i.position=t,e=f.get(i.position),f.removeClass("ui-state-hover"),n(e).addClass("ui-state-hover"),i.placeholder.find(".ui-selectgroup-copy").text(i.selectors[t].text),i.element.find("option:selected").removeAttr("selected"),n(i.selectors[t].element).attr("selected","selected"),r=!0,i.search[3]=t}var i=this,o=this.options,f=this.group.find("li").not(".ui-selectgroup-optgroup"),e=null,r=!1;t=t.toLowerCase(),this.search[1]+=t,window.clearTimeout(this.timer),this.search[0]===this.search[1][0]?this.search[1].length<2?(n.each(this.selectors,function(t){r||n.trim(i.selectors[t].text).toLowerCase().indexOf(i.search[1][0])===0&&i.search[0]==i.search[1][0]&&i.search[3]<t&&u(t)}),this.search[0]=this.search[1][0]):(n.each(this.selectors,function(t){r||n.trim(i.selectors[t].text).toLowerCase().indexOf(i.search[1])===0&&i.search[0][0]==i.search[1][0]&&i.search[3]<t&&u(t)}),this.search[0]=this.search[1][0]):(n.each(this.selectors,function(t){r||i.search[1]===n.trim(i.selectors[t].text).substring(0,i.search[1].length).toLowerCase()&&(i.search[2]=t,u(t))}),this.search[0]=this.search[1][0]),i.search[4]===i.search[3]&&(i.search[3]=i.search[2],u(i.search[3])),this.search[4]=this.search[3],this.timer=window.setTimeout(function(){i.search[1]=""},1e3)},destroy:function(){var t=this.identifiers[0].split("ui-");this.isOpen&&this.close(),this.placeholder.remove(),n(document).unbind(".selectgroup"),n('label[for="'+this.identifiers[0]+'"]').attr("for",t[1]).unbind(".selectmenu"),this.element.show()},enable:function(n,t){this.isOpen&&this.close(),typeof n=="undefined"?this._placeholderEvents(!0):t=="optgroup"?this.element.find("optgroup").eq(n).removeAttr("disabled"):this.element.find("option").eq(n).removeAttr("disabled")},disable:function(n,t){this.isOpen&&this.close(),typeof n=="undefined"?this._placeholderEvents(!1):t=="optgroup"?this.element.find("optgroup").eq(n).attr("disabled","disabled"):this.element.find("option").eq(n).attr("disabled","disabled")},focus:function(){this._index(),this._renderGroup(),this.isActive=!0},blur:function(){this.isActive=!1},change:function(){this._index(),this._renderGroup()},refresh:function(){this.copy=n(this.element).find("option:selected").length?this.element.find("option:selected").text():this.element.find("option").first().text(),this.placeholder.find(".ui-selectgroup-copy").text(this.copy)},open:function(){this.options.style==="dropdown"?(n.ui.selectgroup.group.removeClass("ui-corner-all").addClass("ui-corner-bottom"),this.placeholder.removeClass("ui-corner-all").addClass("ui-state-active ui-corner-top")):(n.ui.selectgroup.group.removeClass("ui-corner-bottom").addClass("ui-corner-all"),this.placeholder.addClass("ui-state-active")),this._position(),this.group.attr("aria-hidden","false"),this.isOpen=!0},close:function(){n.ui.selectgroup.group.past!==null&&n.ui.selectgroup.group.past.placeholder.removeClass("ui-state-active"),this.options.style==="dropdown"?this.placeholder.addClass("ui-corner-all").removeClass("ui-state-active"):this.placeholder.removeClass("ui-state-active"),n.ui.selectgroup.group.hide(),this.placeholder.focus(),this.group.attr("aria-hidden","true"),this.isOpen=!1}}),n.ui.selectgroup.group=n('<div class="ui-selectgroup-group ui-widget ui-widget-content ui-corner-all"><\/div>'),n.ui.selectgroup.group.initialised=!1,n.ui.selectgroup.group.past=null}(jQuery);